{"ast":null,"code":"var _jsxFileName = \"/Users/seanmcavoy/nodejs_projects/MernCA_new/client/src/components/topics.js\";\nimport React, { Component } from \"react\";\nimport { Container, Button, Card, CardMedia, CardActions, CardContent, Typography } from '@material-ui/core';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\";\nimport axios from \"axios\";\nimport \"../css/topicStyles.css\";\nimport moment from 'moment';\nimport { Link } from \"react-router-dom\"; //single topic\n\nexport default class topics extends Component {\n  componentDidMount() {\n    this.props.topic.photos.map(photo => {\n      return axios.get(\"\".concat(SERVER_HOST, \"/topics/topic_photo/\").concat(photo.filename)).then(res => {\n        document.getElementById(photo._id).src = \"data:;base64,\".concat(res.data.image);\n      }).catch(err => {// do nothing\n      });\n    }), axios.get(\"\".concat(SERVER_HOST, \"/topics/update_topic/:id/likePost\").concat(this.props.match.params.id), {\n      headers: {\n        \"authorization\": localStorage.token\n      }\n    }).then(res => {\n      this.setState({\n        title: res.data.title,\n        discription: res.data.discription,\n        tags: res.data.tags\n      });\n    }).catch(err => {// do nothing\n    });\n  }\n\n  render() {\n    return React.createElement(Card, {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(CardMedia, {\n      className: \"media\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), this.props.topic.photos.map(photo => React.createElement(\"img\", {\n      key: photo._id,\n      id: photo._id,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"overlay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, this.props.topic.title), React.createElement(Typography, {\n      variant: \"p\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, moment(this.props.topic.createdAt).fromNow())), React.createElement(\"div\", {\n      className: \"overlay2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? React.createElement(Link, {\n      style: {\n        color: \"white\"\n      },\n      size: \"small\",\n      to: \"/EditTopic/\" + this.props.topic._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(MoreHorizIcon, {\n      fontSize: \"default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })) : null), React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"title\",\n      variant: \"h5\",\n      gutterBottom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.props.topic.discription)), React.createElement(CardActions, {\n      className: \"cardActions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, localStorage.accessLevel > ACCESS_LEVEL_GUEST ? React.createElement(Button, {\n      size: \"small\",\n      color: \"primary\",\n      onClick: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(ThumbUpAltIcon, {\n      fontSize: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), \"like\", this.props.topic.likeCount) : null, localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? React.createElement(Link, {\n      size: \"small\",\n      color: \"primary\",\n      to: \"/DeleteTopic/\" + this.props.topic._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(DeleteIcon, {\n      fontSize: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), \"Delete\") : null));\n  }\n\n}","map":{"version":3,"sources":["/Users/seanmcavoy/nodejs_projects/MernCA_new/client/src/components/topics.js"],"names":["React","Component","Container","Button","Card","CardMedia","CardActions","CardContent","Typography","ThumbUpAltIcon","DeleteIcon","MoreHorizIcon","ACCESS_LEVEL_GUEST","ACCESS_LEVEL_ADMIN","SERVER_HOST","axios","moment","Link","topics","componentDidMount","props","topic","photos","map","photo","get","filename","then","res","document","getElementById","_id","src","data","image","catch","err","match","params","id","headers","localStorage","token","setState","title","discription","tags","render","createdAt","fromNow","accessLevel","color","likeCount"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport { Container, Button, Card, CardMedia, CardActions, CardContent,Typography} from '@material-ui/core';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\";\nimport axios from \"axios\"\nimport \"../css/topicStyles.css\"\nimport moment from 'moment';\nimport {Link} from \"react-router-dom\"\n//single topic\n\n\nexport default class topics extends Component \n{\n    componentDidMount() \n    {\n        this.props.topic.photos.map(photo => \n        {\n            return axios.get(`${SERVER_HOST}/topics/topic_photo/${photo.filename}`)\n            .then(res => \n            {         \n                document.getElementById(photo._id).src = `data:;base64,${res.data.image}`                                                         \n            })\n            .catch(err =>\n            {\n                // do nothing\n            })\n        }),\n        axios.get(`${SERVER_HOST}/topics/update_topic/:id/likePost${this.props.match.params.id}`, {headers:{\"authorization\":localStorage.token}})\n        .then(res => \n        {     \n            this.setState({\n                title: res.data.title,\n                discription: res.data.discription,\n                tags: res.data.tags,\n            })            \n        })\n        .catch(err => \n        {\n            // do nothing\n        })\n\n    }\n    \n    render() {\n        return (\n              <Card className=\"card\">\n                  <CardMedia className=\"media\"/>\n                  {this.props.topic.photos.map(photo => <img key={photo._id} id={photo._id} alt=\"\"/>)}\n                  <div className=\"overlay\">\n                      <Typography variant =\"h6\">{this.props.topic.title}</Typography>\n                      <Typography variant =\"p\">{moment(this.props.topic.createdAt).fromNow()}</Typography>\n                  </div>\n                  <div className=\"overlay2\">\n                  {\n                        localStorage.accessLevel >= ACCESS_LEVEL_ADMIN\n                        ? \n                            <Link style={{color:\"white\"}} size=\"small\" to={\"/EditTopic/\" + this.props.topic._id}><MoreHorizIcon fontSize=\"default\"/></Link>\n                            : null\n                    }\n                      \n                  </div>\n                  <CardContent>\n                        <Typography className=\"title\" variant=\"h5\" gutterBottom>{this.props.topic.discription}</Typography>\n                  </CardContent>\n                  <CardActions className=\"cardActions\">\n                  {\n                        localStorage.accessLevel > ACCESS_LEVEL_GUEST\n                        ? \n                        <Button size=\"small\" color =\"primary\" onClick={() => {}}>\n                        <ThumbUpAltIcon fontSize=\"small\" />\n                        like \n                        {this.props.topic.likeCount}\n                        </Button>\n                                 : null\n                    }\n                      {\n                            localStorage.accessLevel >= ACCESS_LEVEL_ADMIN\n                                ? \n\n                                <Link size=\"small\" color =\"primary\" to={\"/DeleteTopic/\" + this.props.topic._id}>\n                                    <DeleteIcon fontSize=\"small\" />\n                                    Delete\n                                </Link>\n                                  \n                            \n                                 : null\n                    }\n                      \n                  </CardActions>\n                  \n              </Card>\n            \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}